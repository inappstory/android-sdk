>**Attention!**  
>Events Usage is deprecated from version 1.6 and will be removed in 2.0. Strictly recommend to use [`StoriesList`](https://github.com/paperrose/InAppStorySdkKt/blob/master/docs/StoriesList.md) and [`InAppStoryManager`](https://github.com/paperrose/InAppStorySdkKt/blob/master/docs/InAppStoryManager.md) callbacks instead.

The library interacts using the event model, which is provided by the internal `CsEventBus` module (a shortcut version of the [EventBus](http://greenrobot.org/ru-eventbus/) library). You can subscribe your own objects to the events generated by the library.
Example:
```
@CsSubscribe(threadMode = CsThreadMode.MAIN)
public void onStoriesLoadedEvent(StoriesLoaded event) {
    Toast.makeText(getActivity(), ""+event.getCount(), Toast.LENGTH_SHORT).show();
}
 
@CsSubscribe
public void handleSomethingElse(SomeOtherEvent event) {
    doSomethingWith(event);
}
```
 
All event subscribers should register in accordance with their lifecycle and, if possible, disconnect from `CsEventBus`.
Example:
```
@Override
public void onStart() {
    super.onStart();
    CsEventBus.getDefault().register(this);
}
 
@Override
public void onStop() {
    CsEventBus.getDefault().unregister(this);
    super.onStop();
}
```

Below are the events that you can subscribe to:

1) `StoriesLoaded` - the list of stories has been loaded, the widget is ready to work (triggered every time when the list is loaded, including at refresh). The event contains the `int getCount()` method - the number of stories

All other events contain 4 methods:
```
int getId() - get id of stories
String getTitle() - get the title of stories
ArrayList<String> getTags() - get story tags
int getSlidesCount() - number of slides
``` 

2) `ClickOnStory` - click on stories in the list (both in the regular list and in the favorites). Additional method `int getSource()`, can return `ClickOnStory.LIST`, `ClickOnStory.FAVORITE` values.

3) `ShowStory` - showing the reader with stories (after click or swiping in the regular stories list, in the favorites stories list , single story or onboarding story). Additional method `int getSource()`, can return `ShowStory.SINGLE`, `ShowStory.ONBOARDING`, `ShowStory.LIST`, `ShowStory.FAVORITE` values.

The following events (4-13) contain the `int getIndex()` method - from which slide the event was triggered. 

4) `CloseStory` - closing stories. Additional methods: 
- `int getAction()`, can return the values `CloseStory.AUTO`, `CloseStory.CLICK`, `CloseStory.SWIPE`, `CloseStory.CUSTOM`
- `int getSource()`, can return the values `ShowStory.SINGLE,` `ShowStory.ONBOARDING`, `ShowStory.LIST`, `ShowStory.FAVORITE`

5) `CallToAction` - click on the button in the story or swipe up on the SwipeUp widget. Additional methods:
- `String getLink()`, returns a link embedded in a button
- `int getType()`, can return values `CallToAction.SWIPE` = 1, `CallToAction.BUTTON` = 0
This event replaces the `ClickOnButton` deprecated event .

6) `ShowSlide` - showing a slide.

7) `ClickOnShareStory` - click on the share button.

8) `StartGame` - click on the start game button

9) `CloseGame` - manual close game (by close button and etc).

10) `FinishGame` - at the end of the game (with automatic closing). It also contains a `getResult()` method that returns a json string with the result of the game. 

The next 3 events also contain the method `boolean getValue()` - what state the button is in (`true` - activated) 

11) `LikeStory` - click on the like button

12) `DislikeStory` - click on the dislike button

13) `FavoriteStory` - click on the button for adding stories to favorites

There are the following events for working with onboarding and single stories:

14) `OnboardingLoad` - sent when the onboarding list is loaded. Contains a `getCount` method that returns the number of onboarding stories and `isEmpty` - a flag whether an empty list was returned on request or not.

15) `OnboardingLoadError` - sent when loading the onboarding list in case of an error 

16) `SingleLoad` - sent when loading single story by id (by `InAppStoryManager.getInstance().showStory` method)

17) `SingleLoadError` - sent when loading single story by id in case of some error 

There are 2 events for tracking errors:

1) `StoriesErrorEvent` - occurs when some kind of error comes from the server. Contains 7 different types depending on the place of origin. Has a `getType` method for getting the type of error. The types of errors:
```
OPEN_SESSION = 0;
LOAD_LIST = 1;
LOAD_SINGLE = 2;
LOAD_ONBOARD = 3;
READER = 4;
EMPTY_LINK = 5;
CACHE = 6;
``` 

2)`NoConnectionEvent` - when trying to download without internet. Has a `getType` method to get the type of error.
